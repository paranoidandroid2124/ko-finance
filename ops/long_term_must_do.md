# ko-finance 장기 필수 과제

> 출처: ko-finance 경쟁력 진단 보고서 (2025-10-25)

## 1. 데이터·신뢰성 기반 강화
- OpenDART/XBRL 파이프라인을 표준화하고 보고서 유형별(사업/분기/반기/주요사항/지분변동 등) 스키마·파서·검증 규칙을 확립한다. 각 단계의 에러·중복·정정 처리 플로우를 문서화하고, 재처리 여부를 자동 판별하는 검증 태스크를 마련한다.
- 공시 원문에서 핵심 재무 팩터, 이벤트 타임라인, 주요 변화 지표를 추출하는 파생 데이터 계층을 구축한다. 추출 결과는 근거 문단, 문서 ID, 페이지, 작성 시각, 분석 성공/실패 플래그와 함께 저장해 추적 가능성을 확보한다.
- 뉴스·애널리스트 리포트·RSS 요약을 합법적 범위 내에서 정규화하고 중복을 제거하는 룰 엔진을 만든다. 감성 점수, 토픽, 출처 신뢰도, 도메인 다양성, 중복임을 판별한 기사 묶음까지 노출해 “설명형” 뉴스 리포트를 구성한다.
- 증시·지수·섹터(WICS/TRBC 등) 메타데이터와 가격·거래대금 시계열을 공시·뉴스와 연결한다. 공시나 뉴스 카드에서 이벤트 직후 1일/5일/20일 수익률, 섹터 대비 차이, 변동성 지표를 기본으로 제시한다.
- 섹터·피어군 분류 정확도를 주기적으로 평가하고, 동일 섹터 기업의 최근 주요 공시·뉴스·감성 지표를 자동 리스팅한다.
- RAG self-check, 프롬프트 회귀 테스트, 평가 데이터셋을 주기적으로 갱신해 모델 변경 시 정확도·근거 일관성을 검증한다.

## 2. 리서치 워크플로 완결
- "질문 → 근거 탐색 → 설명형 요약 → PDF/CSV 내보내기" 플로우를 제품 핵심 시나리오로 구현한다. 각 단계에서 필요한 API·UI·스토리지 요구사항을 정의하고 종단 간 테스트를 자동화한다.
- 공시·뉴스·표·차트·근거 문단을 단일 뷰에서 탐색할 수 있는 증거 패널을 고도화한다. 문단 인용, 페이지 링크, 원문/PDF 뷰어, 주석·하이라이트, 근거 공유 링크를 제공하고 변동 감지 요약을 포함한다.
- 동일 질문을 반복할 때 캐시된 증거와 최신 데이터를 비교해, 수정된 문단·변경된 지표를 강조하는 “업데이트 추적” 뷰를 제공한다.

## 3. 프런트엔드 UX 현대화 및 마이크로 인터랙션
- Next.js 대시보드에 문서 중심 글로벌 검색창을 추가하고, 공시·뉴스·표·그래프 탭으로 분류해 카드형 결과를 노출한다. 결과 카드에는 핵심 KPI, 이벤트 날짜, 관련 증거 수량, 이벤트 이후 수익률, 출처 신뢰도를 표기한다.
- 회사 상세 뷰에 이벤트 타임라인, 섹터 비교 보드, 감성·가격 스파크라인, 피어군 테이블을 배치해 공시와 시장 반응을 동시에 시각화한다. 타임라인 항목 클릭 시 증거 패널과 차트가 동기화되도록 설계한다.
- 경량 차트 라이브러리(ECharts, Lightweight Charts 등)를 활용해 멀티 축 스파크라인, 이벤트 마커, 감성 분포, 거래량 변화를 표현한다. 실시간 업데이트 시 부드러운 슬라이드/페이드 애니메이션으로 변화를 전달한다.
- 모션 토큰을 정의한다(예: motion.fast=120ms ease-out, motion.medium=220ms ease-in-out, motion.slow=320ms ease-in-out). 스켈레톤 로더, 토스트 알림, 필터 칩 선택, 사이드 패널 슬라이드, 잠금 해제 애니메이션까지 동일한 모션 언어를 적용한다.
- 접근성 설정을 감지해 Reduce Motion 환경에서는 애니메이션을 단축하거나 정적 상태로 대체한다. 키보드 내비게이션, 스크린리더 레이블, 명도 대비 기준을 준수하고 초점 이동 애니메이션을 설계한다.
- 챗봇 후속 질문 추천, 가드레일 경고, 전역 커맨드 팔레트 등 대화형/상황별 인터랙션을 설계해 사용성을 높인다. 각 인터랙션은 사용자 테스트와 히트맵 분석으로 검증한다.
- 등급별 락·툴팁·마이크로 인터랙션을 정의한다. Free 사용자는 기본 지표를 모두 볼 수 있으나, Pro/Enterprise 기능(피어군 상세 비교, 알림, 내보내기, API)은 잠금 상태로 노출해 업그레이드 동기를 부여한다.

## 4. 보안·컴플라이언스 체계 구축
- OAuth2/OIDC 기반 인증, MFA, RBAC를 도입하고, 조직·워크스페이스 단위 권한 모델을 정의한다. 서비스 계정과 사용자 계정의 비밀 관리를 비밀관리자(예: AWS Secrets Manager)로 일원화한다.
- 접근 로그, 검색어 로그, 데이터 내보내기 로그에 요청 ID, 사용자 ID, 세션, 타임스탬프, 결과 상태를 기록해 감사 추적을 가능하게 한다.
- PIPA·ISMS-P 요구사항을 반영해 개인정보 처리방침, 국외 이전 동의, 침해 사고 대응 프로세스를 마련한다. 72시간 통지, 로그 보존 기간, 데이터 최소 수집 원칙을 명문화한다.
- 뉴스·문서 저작권 및 API 이용약관 준수 지침을 작성하고, 출처별 허용 작업(저장, 재배포, 요약) 목록을 관리한다.

## 5. 운영·관측성 고도화
- Langfuse 외에 구조화 로그(예: JSON), LLM 토큰/비용, 큐 지연, 태스크 성공률, 서드파티 API 한도 사용량을 시각화하는 운영 대시보드를 구축한다.
- Postgres/Qdrant 백업·복구 절차를 자동화하고, 스냅샷 버전과 복구 테스트 일정을 캘린더에 고정한다. 데이터·프롬프트·모델 구성을 버전 관리해 롤백을 안전하게 수행한다.
- Celery 태스크 모니터링, 재시도 정책, 장기 실행 태스크 타임아웃, 장애 알림 채널(텔레그램/Slack)을 일관된 방식으로 구성한다.

## 6. 상품화·과금 인프라
- Free/Pro/Enterprise 플랜을 정의하고, 각 플랜에 기능(증거 패널, 문단 하이라이트, PDF/CSV 내보내기, 알림, API 호출)과 한도(질의 수, 사용자 수, 저장 기간)를 명확히 매핑한다. UI에서 잠금 아이콘, 업그레이드 툴팁, 가격 비교 모달을 일관된 패턴으로 제공한다.
- 결제(정기/선불/토큰형), 영수증·세금계산서 발행, 환불 정책을 마련한다. 고객 포털에서 사용량, 결제 내역, 플랜 변경을 직접 관리할 수 있게 한다.
- 리포트 워터마킹, 다운로드 추적, 공유 링크 만료 기능으로 데이터 유통 통제를 구현한다.

## 7. 리스크 관리
- OpenDART 호출 한도, 예외 응답, 응답 포맷 변화에 대비한 캐시·큐·스냅샷 전략을 수립한다. 장애 발생 시 대체 경로와 알림 시나리오를 문서화한다.
- 투자 자문 아님 고지, 데이터 지연/오류 가능성 안내, 법적 책임 범위 등을 UI와 약관에 반복적으로 노출해 규제 리스크를 줄인다.
- 해외 인프라 사용 시 데이터 국외 이전 동의 절차와 계약 문구를 준비하고, 침해 사고 대응 체계를 주기적으로 점검한다.

## 8. 단기(90일) 실행 가속 포인트
- 주요 공시 6종 파이프라인 표준화, 에러·정정 대응 룰 수립, XBRL 파서 안정화를 동시 진행한다.
- 질문→근거→숏폼 리포트→PDF 내보내기 플로우를 베타 버전으로 구현하고, 샌드박스 데이터를 기반으로 사용자 피드백을 수집한다.
- 검색, 증거 패널, 이벤트 타임라인, 멀티 스파크라인, 모션 토큰 초안, 등급별 잠금 UI를 포함한 대시보드 베타를 제작한다. 마이크로 인터랙션 품질을 Storybook으로 검증한다.
- OAuth2/MFA/RBAC, 로그 표준, 비밀관리자 연동, 정기 백업, 비용 모니터링을 우선 도입해 운영 안정성을 확보한다.
- Free/Pro/Enterprise 정의, 약관·면책·출처 고지, 워터마크 정책을 정리하고 초기 고객 대상 PoC를 준비한다.
